<!DOCTYPE html>
<html lang="en">
<head>
<title>faircore4eosc - Meta Resolver</title>
<link rel="stylesheet" href="{{CONTEXT_PATH}}/static/css/style.css">
<link rel="stylesheet" href="{{CONTEXT_PATH}}/static/css/bootstrap.min.css">
<link rel="icon" href="{{CONTEXT_PATH}}/static/images/favicon.ico" type="image/vnd.microsoft.icon" />
</head>

<body>
<div id="content">
    <div>
        <a href="./"><img src="{{CONTEXT_PATH}}/static/images/logo.jpg" width="250" height="30" alt="faircore4eosc"></a>
    <br>
    <h2 align="center">Meta Resolver - MR</h2>
    <div>
        <p align="left">The web form below will enable you to resolve the following identifiers:<br>
            ARK, arXiv, HANDLE, SWH, URN:NBN:DE, URN:NBN:FI, Zenodo  ...
        </p>
    </div>
    <hr>
    <form action="{{CONTEXT_PATH}}/" method=POST>
        <div class="form-group input-group mt=2">
            <div class="input-group-prepend">
                <div class="d-inline"><span class="input-group-text"><input type="button" name="submit" id="clear" class="btn btn-secondary btn-lg" value="Clear"><input type="submit" name="clear" id="submit" class="btn btn-primary btn-lg m-1" value="Resolve"></span></div>
            </div>
            <input type="text" id="identifier" name="hdl" class="form-control form-control-lg" placeholder="Enter identifier" required>
            <input id="noredirect" class="noredirect" type=checkbox name="noredirect">
            <input id="display" type=hidden name="display" value="">
        </div>
    </form>
    <div class="p-5">
        <div>
            <div>
                <h6>Please select an identifier example for testing:</h6>
            </div>
            <div>
                <div class="d-inline"><input class="id" name="id" type="radio" value="ark:/67531/metapth346793"></div>
                <div class="d-inline">ARK: ark:/67531/metapth346793</div>
            </div>
            <div>
                <div class="d-inline"><input class="id" name="id" type="radio" value="arXiv:2302.00338"></div>
                <div class="d-inline">arXiv: arXiv:2302.00338</div>
            </div>
            <div>
                <div class="d-inline"><input class="id" name="id" type="radio" value="21.T11148/7317d72eb37156ced029"></div>
                <div class="d-inline">Handle: 21.T11148/7317d72eb37156ced029</div>
            </div>
            <div>
                <div class="d-inline"><input class="id" name="id" type="radio" value="doi:10.3390/s18020479"></div>
                <div class="d-inline">DOI: doi:10.3390/s18020479</div>
            </div>
            <div>
                <div class="d-inline"><input class="id" name="id" type="radio" value="swh:1:cnt:94a9ed024d3859793618152ea559a168bbcbb5e2"></div>
                <div class="d-inline">SWHID: swh:1:cnt:94a9ed024d3859793618152ea559a168bbcbb5e2</div>
            </div>
            <div>
                <div class="d-inline"><input class="id" name="id" type="radio" value="urn:nbn:de:hbz:6-85659524771"></div>
                <div class="d-inline">DE-URN: urn:nbn:de:hbz:6-85659524771</div>
            </div>
            <div>
                <div class="d-inline"><input class="id" name="id" type="radio" value="urn:nbn:fi-fe2021080942632"></div>
                <div class="d-inline">FI-URN: urn:nbn:fi-fe2021080942632</div>
            </div>
            <div>Zenodo</div>
            <div>With single-part resource</div>
            <div>
                <div class="d-inline"><input class="id" name="id" type="radio" value="10.5281/zenodo.8056361"></div>
                <div class="d-inline">zenodo PID: 10.5281/zenodo.8056361</div>
            </div>
            <div>With multi-part resource</div>
            <div>
                <div class="d-inline"><input class="id" name="id" type="radio" value="10.5281/zenodo.8246990"></div>
                <div class="d-inline">zenodo PID: 10.5281/zenodo.8246990</div>
            </div>
        </div>
        <div class="pt-2">
            <div>
                <h6>Please select a display mode:</h6>
            </div>
            <div>
                <div class="d-inline"><input type=radio id="landingpage" class="display" name="display" value="landingpage"></div>
                <div class="d-inline">Landing Page</div>
            </div>
            <div>
                <div class="d-inline"><input id="metadata" type=radio class="display" name="display" value="metadata"></div>
                <div class="d-inline">Metadata</div>
            </div>
            <div>
                <div class="d-inline"><input id="resource" type=radio class="display" name="display" value="resource"></div>
                <div class="d-inline">Resource</div>
            </div>
            <div id="content-negotiation">
                <div class="d-inline"><input id="bibtex" type=radio class="display" name="display" value="bibtext"></div>
                <div class="d-inline">Bibtex</div>
            </div>

        </div>
    </div>
    </div>

    <h3>Resolving Matrix</h3>

    <table class="table table-bordered">
        <thead>
        <tr>
            <th scope="col"></th>
            <th scope="col">Landing Page</th>
            <th scope="col">Metadata</th>
            <th scope="col">Resource</th>
            <th scope="col">Bibtex</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <th scope="row">ARK</th>
            <td>x</td>
            <td>x</td>
            <td>-</td>
        </tr>
        <tr>
            <th scope="row"> arXiv</th>
            <td>x</td>
            <td>x</td>
            <td>x</td>
        </tr>
        <tr>
            <th scope="row">Handle</th>
            <td>x</td>
            <td>x</td>
            <td>-</td>
        </tr>
        <tr>
            <th scope="row">DOI</th>
            <td>x</td>
            <td>x</td>
            <td>-</td>
        </tr>
        <tr>
            <th scope="row">SWHID</th>
            <td>x</td>
            <td>x</td>
            <td>x</td>
        </tr>
        <tr>
            <th scope="row">DE-URN</th>
            <td>x</td>
            <td>x</td>
            <td>x</td>
        </tr>
        <tr>
            <th scope="row">FI-URN</th>
            <td>x</td>
            <td>-</td>
            <td>-</td>
        </tr>
        <tr>
            <th scope="row">zenodo PID</th>
            <td>x</td>
            <td>x</td>
            <td>x</td>
        </tr>
        </tbody>
    </table>
</div>

<script src="{{CONTEXT_PATH}}/static/js/handle.js" type="text/javascript"></script>
<script src="https://code.jquery.com/jquery-3.4.1.min.js" type="application/javascript"></script>
<script type="application/javascript">
    $(document).ready(function () {
        $('.display').on('click', function () {
            var identifier = $("input[type='text'][name='hdl']").val();
            var display = $("input[type='radio'][name='display']:checked").val();
            if (!!identifier) {
                if (identifier.includes("?landingpage")) {
                    identifier = identifier.split("?landingpage")[0];
                } else if (identifier.includes("?metadata")) {
                    identifier = identifier.split("?metadata")[0];
                } else if (identifier.includes("?resource")) {
                    identifier = identifier.split("?resource")[0];
                }
                if (identifier.includes("21.")) {
                    $('#identifier').val(identifier);
                    $('#display').val("");
                    if (display=="metadata") {
                        $("input[id=noredirect]").prop('checked', true);
                    } else {
                        $("input[id=noredirect]").prop('checked', false);
                    }
                } else {
                    $('#identifier').val(identifier);
                    $('#display').val(display);
                }
            } else if (display=="metadata" && !identifier.includes("MR@")) {
                $("input[id=noredirect]").prop('checked', true);
            } else if (display=="landingpage" && !identifier.includes("MR@")) {
                $("input[id=noredirect]").prop('checked', false);
            }
        });
    });
</script>
</body>
</html>
